<ui:composition
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
        xmlns:composite="http://xmlns.jcp.org/jsf/composite"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:jsf="http://xmlns.jcp.org/jsf"
>

    <composite:interface>
        <composite:attribute
                name="record"
                type="io.goobi.workflow.api.vocabulary.jsfwrapper.JSFVocabularyRecord"
                required="true"
        />
    </composite:interface>

    <composite:implementation>
        <tr class="level-#{cc.attrs.record.level}">
            <td class="level-#{cc.attrs.record.level}">
                <h:commandLink
                        rendered="#{cc.attrs.record.children.size() > 0 and cc.attrs.record.expanded == false}"
                        action="#{vocabularyRecordsBean.expandRecord(cc.attrs.record)}">
                    <i class="fa fa-caret-right"/>
                </h:commandLink>
                <h:commandLink
                        rendered="#{cc.attrs.record.children.size() > 0 and cc.attrs.record.expanded == true}"
                        action="#{vocabularyRecordsBean.collapseRecord(cc.attrs.record)}">
                    <i class="fa fa-caret-down"/>
                </h:commandLink>
            </td>
            <ui:repeat var="titleValue" value="#{cc.attrs.record.titleValues}">
                <td class="tableColumnOverflow maxWidth150">
                    <h:outputText value="#{titleValue}"/>
                </td>
            </ui:repeat>
            <td>
                <!-- EDIT -->
                <button
                        jsf:id="switch"
                        title="#{msgs.bearbeiten}"
                        class="btn #{vocabularyRecordsBean.currentRecord != cc.attrs.record ? 'btn-blank' : 'btn-primary-400'}"
                        jsf:action="#{vocabularyRecordsBean.edit(cc.attrs.record)}"
                        data-bs-toggle="tooltip">
                    <i class="font-size-s fa fa-pencil"/>
                    <!--                    <f:ajax execute="@this" render="@form"/>-->
                    <!--                    <f:passThroughAttribute name="aria-label" value="#{cc.attrs.record.id}"/>-->
                </button>
                <!-- ADD CHILD -->
                <button jsf:id="new_record" jsf:action="#{vocabularyRecordsBean.createEmpty(cc.attrs.record.id)}"
                        class="btn btn-primary-400 margin-left-3"
                        title="#{msgs.vocabularyManager_addRecord}">
                    <i aria-hidden="true" class="fa fa-plus"/>
                </button>
            </td>
        </tr>
    </composite:implementation>
</ui:composition>
